function [nueva_llegada, tiempo_siguiente] = funcion_generador_llegadas(t, u, lambda)\n% Genera llegadas segun proceso de Poisson\n\npersistent tiempo_proxima_llegada;\npersistent contador;\n\nif isempty(tiempo_proxima_llegada)\n    tiempo_proxima_llegada = 0;\n    contador = 0;\nend\n\nnueva_llegada = 0;\n\nif t >= tiempo_proxima_llegada\n    nueva_llegada = 1;\n    contador = contador + 1;\n    tiempo_entre = -log(u) / lambda;\n    tiempo_proxima_llegada = t + tiempo_entre;\nend\n\ntiempo_siguiente = tiempo_proxima_llegada;\n